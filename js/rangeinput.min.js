(function(e){function i(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function s(e,t){var n=parseInt(e.css(t),10);if(n){return n}var r=e[0].currentStyle;return r&&r.width&&parseInt(r.width,10)}function o(e){var t=e.data("events");return t&&t.onSlide}function u(t,n){function x(e,s,o,u){if(o===undefined){o=s/h*m}else if(u){o-=n.min}if(g){o=Math.round(o/g)*g}if(s===undefined||g){s=o*h/m}if(isNaN(o)){return r}s=Math.max(0,Math.min(s,h));o=s/h*m;if(u||!f){o+=n.min}if(f){if(u){s=h-s}else{o=n.max-o}}o=i(o,y);var a=e.type=="click";if(S&&l!==undefined&&!a){e.type="onSlide";E.trigger(e,[o,s]);if(e.isDefaultPrevented()){return r}}var c=a?n.speed:0,b=a?function(){e.type="change";E.trigger(e,[o])}:null;if(f){d.animate({top:s},c,b);if(n.progress){v.animate({height:h-s+d.height()/2},c)}}else{d.animate({left:s},c,b);if(n.progress){v.animate({width:s+d.width()/2},c)}}l=o;p=s;t.val(o);return r}function T(){f=n.vertical||s(a,"height")>s(a,"width");if(f){h=s(a,"height")-s(d,"height");c=a.offset().top+h}else{h=s(a,"width")-s(d,"width");c=a.offset().left}}function N(){T();r.setValue(n.value!==undefined?n.value:n.min)}var r=this,u=n.css,a=e("<div><div/><a href='#'/></div>").data("rangeinput",r),f,l,c,h,p;t.before(a);var d=a.addClass(u.slider).find("a").addClass(u.handle),v=a.find("div").addClass(u.progress);e.each("min,max,step,value".split(","),function(e,r){var i=t.attr(r);if(parseFloat(i)){n[r]=parseFloat(i,10)}});var m=n.max-n.min,g=n.step=="any"?0:n.step,y=n.precision;if(y===undefined){y=g.toString().split(".");y=y.length===2?y[1].length:0}if(t.attr("type")=="range"){var b=t.clone().wrap("<div/>").parent().html(),w=e(b.replace(/type/i,"type=hidden data-orig-type"));w.val(n.value);t.replaceWith(w);t=w}t.addClass(u.input);var E=e(r).add(t),S=true;e.extend(r,{getValue:function(){return l},setValue:function(t,n){T();return x(n||e.Event("api"),undefined,t,true)},getConf:function(){return n},getProgress:function(){return v},getHandle:function(){return d},getInput:function(){return t},step:function(t,i){i=i||e.Event();var s=n.step=="any"?1:n.step;r.setValue(l+s*(t||1),i)},stepUp:function(e){return r.step(e||1)},stepDown:function(e){return r.step(-e||-1)}});e.each("onSlide,change".split(","),function(t,i){if(e.isFunction(n[i])){e(r).on(i,n[i])}r[i]=function(t){if(t){e(r).on(i,t)}return r}});d.drag({drag:false}).on("dragStart",function(){T();S=o(e(r))||o(t)}).on("drag",function(e,n,r){if(t.is(":disabled")){return false}x(e,f?n:r)}).on("dragEnd",function(e){if(!e.isDefaultPrevented()){e.type="change";E.trigger(e,[l])}}).click(function(e){return e.preventDefault()});a.click(function(e){if(t.is(":disabled")||e.target==d[0]){return e.preventDefault()}T();var n=f?d.height()/2:d.width()/2;x(e,f?h-c-n+e.pageY:e.pageX-c-n)});if(n.keyboard){t.keydown(function(n){if(t.attr("readonly")){return}var i=n.keyCode,s=e([75,76,38,33,39]).index(i)!=-1,o=e([74,72,40,34,37]).index(i)!=-1;if((s||o)&&!(n.shiftKey||n.altKey||n.ctrlKey)){if(s){r.step(i==33?10:1,n)}else if(o){r.step(i==34?-10:-1,n)}return n.preventDefault()}})}t.blur(function(t){var n=e(this).val();if(n!==l){r.setValue(n,t)}});e.extend(t[0],{stepUp:r.stepUp,stepDown:r.stepDown});N();if(!h){e(window).load(N)}}e.tools=e.tools||{version:"@VERSION"};var t;t=e.tools.rangeinput={conf:{min:0,max:100,step:"any",steps:0,value:0,precision:undefined,vertical:0,keyboard:true,progress:false,speed:100,css:{input:"range",slider:"slider",progress:"progress",handle:"handle"}}};var n,r;e.fn.drag=function(t){document.ondragstart=function(){return false};t=e.extend({x:true,y:true,drag:true},t);n=n||e(document).on("mousedown mouseup",function(i){var s=e(i.target);if(i.type=="mousedown"&&s.data("drag")){var o=s.position(),u=i.pageX-o.left,a=i.pageY-o.top,f=true;n.on("mousemove.drag",function(e){var n=e.pageX-u,i=e.pageY-a,o={};if(t.x){o.left=n}if(t.y){o.top=i}if(f){s.trigger("dragStart");f=false}if(t.drag){s.css(o)}s.trigger("drag",[i,n]);r=s});i.preventDefault()}else{try{if(r){r.trigger("dragEnd")}}finally{n.off("mousemove.drag");r=null}}});return this.data("drag",true)};e.expr[":"].range=function(t){var n=t.getAttribute("type");return n&&n=="range"||!!e(t).filter("input").data("rangeinput")};e.fn.rangeinput=function(n){if(this.data("rangeinput")){return this}n=e.extend(true,{},t.conf,n);var r;this.each(function(){var t=new u(e(this),e.extend(true,{},n));var i=t.getInput().data("rangeinput",t);r=r?r.add(i):i});return r?r:this}})(jQuery)